# 標案篩選功能測試案例

## 📋 測試清單總覽

### 功能測試
- [x] 狀態篩選功能
- [x] 截止時間提醒篩選功能
- [x] 篩選組合功能
- [x] 清除篩選功能
- [x] 視圖切換時篩選保持
- [x] 分頁處理

### UI/UX 測試
- [x] 按鈕樣式與顏色
- [x] 提示列顯示
- [x] 響應式佈局
- [x] 無障礙功能

### 效能測試
- [x] 大量資料篩選
- [x] 快速切換篩選

---

## 🧪 詳細測試案例

### TC-001：狀態篩選 - 全部
**前置條件**：
- 已登入系統
- 至少有 10 筆標案資料（包含不同狀態）

**測試步驟**：
1. 導航至標案列表頁面
2. 確認預設狀態篩選為「全部」
3. 觀察顯示的標案數量

**預期結果**：
- ✓ 顯示所有標案（不論狀態）
- ✓ 「全部」按鈕為黑色背景
- ✓ 不顯示篩選提示列

---

### TC-002：狀態篩選 - 招標中
**前置條件**：
- 已登入系統
- 資料庫有未截止的標案

**測試步驟**：
1. 點擊「狀態篩選」→「招標中」
2. 觀察列表變化
3. 檢查提示列資訊

**預期結果**：
- ✓ 僅顯示 `deadline_date > now` 或 `deadline_date === null` 的標案
- ✓ 「招標中」按鈕變為綠色背景 (#00C853)
- ✓ 提示列顯示「STATUS: 招標中」
- ✓ 顯示正確的標案數量

**測試資料**：
```
標案 A: deadline_date = 2026-02-15 → 應顯示
標案 B: deadline_date = null → 應顯示
標案 C: deadline_date = 2026-01-20 (已過期) → 不顯示
```

---

### TC-003：狀態篩選 - 已截止
**前置條件**：
- 已登入系統
- 資料庫有已截止的標案

**測試步驟**：
1. 點擊「狀態篩選」→「已截止」
2. 觀察列表變化
3. 檢查每筆標案的截止日期

**預期結果**：
- ✓ 僅顯示 `deadline_date <= now` 的標案
- ✓ 「已截止」按鈕變為紅色背景 (#FA4028)
- ✓ 提示列顯示「STATUS: 已截止」
- ✓ 所有標案的截止日期都在過去

**測試資料**：
```
標案 A: deadline_date = 2026-01-20 (已過期) → 應顯示
標案 B: deadline_date = 2026-02-15 (未來) → 不顯示
標案 C: deadline_date = null → 不顯示
```

---

### TC-004：狀態篩選 - 已決標
**前置條件**：
- 已登入系統
- 資料庫有狀態為「已決標」的標案

**測試步驟**：
1. 點擊「狀態篩選」→「已決標」
2. 觀察列表變化
3. 檢查每筆標案的狀態欄位

**預期結果**：
- ✓ 僅顯示 `status.includes('已決標')` 的標案
- ✓ 「已決標」按鈕變為藍色背景 (#285AFA)
- ✓ 提示列顯示「STATUS: 已決標」
- ✓ 所有標案狀態都包含「已決標」

---

### TC-005：截止時間篩選 - 3天內
**前置條件**：
- 已登入系統
- 資料庫有不同截止日期的標案

**測試步驟**：
1. 點擊「截止時間提醒」→「3天內」
2. 觀察列表變化
3. 計算每筆標案的剩餘天數

**預期結果**：
- ✓ 僅顯示 `0 <= (deadline_date - now) <= 3天` 的標案
- ✓ 「3天內」按鈕變為紅色背景 (#FA4028)
- ✓ 提示列顯示「DEADLINE: 3天內」
- ✓ 不顯示已過期或超過3天的標案

**測試資料**（假設今天是 2026-01-28）：
```
標案 A: deadline_date = 2026-01-30 (2天後) → 應顯示
標案 B: deadline_date = 2026-01-31 (3天後) → 應顯示
標案 C: deadline_date = 2026-02-01 (4天後) → 不顯示
標案 D: deadline_date = 2026-01-27 (已過期) → 不顯示
```

---

### TC-006：截止時間篩選 - 7天內
**前置條件**：
- 已登入系統
- 資料庫有不同截止日期的標案

**測試步驟**：
1. 點擊「截止時間提醒」→「7天內」
2. 觀察列表變化

**預期結果**：
- ✓ 僅顯示 `0 <= (deadline_date - now) <= 7天` 的標案
- ✓ 「7天內」按鈕變為橙色背景 (#FF9800)
- ✓ 提示列顯示「DEADLINE: 7天內」

---

### TC-007：截止時間篩選 - 30天內
**前置條件**：
- 已登入系統
- 資料庫有不同截止日期的標案

**測試步驟**：
1. 點擊「截止時間提醒」→「30天內」
2. 觀察列表變化

**預期結果**：
- ✓ 僅顯示 `0 <= (deadline_date - now) <= 30天` 的標案
- ✓ 「30天內」按鈕變為黃色背景 (#FDD835)，文字黑色
- ✓ 提示列顯示「DEADLINE: 30天內」

---

### TC-008：篩選組合 - 招標中 + 3天內
**前置條件**：
- 已登入系統
- 資料庫有符合條件的標案

**測試步驟**：
1. 點擊「狀態篩選」→「招標中」
2. 點擊「截止時間提醒」→「3天內」
3. 觀察列表變化

**預期結果**：
- ✓ 僅顯示同時符合兩個條件的標案
- ✓ 提示列顯示「STATUS: 招標中 DEADLINE: 3天內」
- ✓ 所有標案都是未截止且3天內到期

**測試資料**（假設今天是 2026-01-28）：
```
標案 A: deadline_date = 2026-01-30, 招標中 → 應顯示 ✓
標案 B: deadline_date = 2026-01-30, 已決標 → 不顯示（狀態不符）
標案 C: deadline_date = 2026-02-05, 招標中 → 不顯示（超過3天）
標案 D: deadline_date = 2026-01-27, 招標中 → 不顯示（已過期）
```

---

### TC-009：清除所有篩選
**前置條件**：
- 已設定多個篩選條件

**測試步驟**：
1. 設定「狀態篩選」為「招標中」
2. 設定「截止時間提醒」為「3天內」
3. 點擊「Clear_All_Filters [X]」按鈕
4. 觀察變化

**預期結果**：
- ✓ 所有篩選恢復為「全部」
- ✓ 提示列消失
- ✓ 顯示所有標案
- ✓ 頁碼重置為第 1 頁

---

### TC-010：視圖切換時篩選保持
**前置條件**：
- 已設定篩選條件

**測試步驟**：
1. 設定「狀態篩選」為「招標中」
2. 切換到「網格視圖」→ 觀察
3. 切換到「行事曆視圖」→ 觀察
4. 切換回「列表視圖」→ 觀察

**預期結果**：
- ✓ 篩選條件在所有視圖中保持一致
- ✓ 網格視圖僅顯示篩選後的標案
- ✓ 行事曆視圖僅顯示篩選後的標案
- ✓ 列表視圖保持篩選狀態

---

### TC-011：與關鍵字篩選組合
**前置條件**：
- 已訂閱多個關鍵字
- 有不同關鍵字的標案

**測試步驟**：
1. 選擇特定關鍵字（例如「軟體開發」）
2. 設定「狀態篩選」為「招標中」
3. 觀察結果

**預期結果**：
- ✓ 僅顯示該關鍵字且招標中的標案
- ✓ 兩個篩選同時生效（AND 邏輯）

---

### TC-012：與搜尋功能組合
**前置條件**：
- 有多筆標案資料

**測試步驟**：
1. 在搜尋框輸入「維護」
2. 設定「截止時間提醒」為「7天內」
3. 觀察結果

**預期結果**：
- ✓ 僅顯示標題或機關包含「維護」且7天內截止的標案
- ✓ 搜尋與篩選同時生效

---

### TC-013：分頁處理
**前置條件**：
- 資料量 > 12 筆（預設頁面大小）

**測試步驟**：
1. 設定「狀態篩選」為「招標中」（假設結果有 25 筆）
2. 觀察總頁數
3. 切換到第 2 頁
4. 觀察資料

**預期結果**：
- ✓ 總頁數根據篩選後的數量計算（25 筆 → 3 頁）
- ✓ 第 2 頁顯示第 13-24 筆資料
- ✓ 分頁器顯示正確的頁碼

---

### TC-014：空結果處理
**前置條件**：
- 資料庫有標案但無符合條件的

**測試步驟**：
1. 設定極限條件（例如：已決標 + 3天內截止）
2. 觀察結果

**預期結果**：
- ✓ 顯示「尚無標案資料」訊息
- ✓ 提示列顯示「0 TENDERS_FOUND」
- ✓ 不顯示分頁器
- ✓ 篩選條件仍保持啟用

---

### TC-015：無 deadline_date 的標案處理
**前置條件**：
- 資料庫有 `deadline_date = null` 的標案

**測試步驟**：
1. 設定「狀態篩選」為「招標中」→ 觀察
2. 設定「狀態篩選」為「已截止」→ 觀察
3. 設定「截止時間提醒」為「3天內」→ 觀察

**預期結果**：
- ✓ 「招標中」顯示無截止日期的標案（視為進行中）
- ✓ 「已截止」不顯示無截止日期的標案
- ✓ 「3天內」不顯示無截止日期的標案

---

## 🎨 UI/UX 測試案例

### TC-UI-001：按鈕樣式正確性
**測試步驟**：
1. 檢查所有按鈕的顏色
2. 測試懸停效果
3. 測試選中效果

**預期結果**：
- ✓ 預設按鈕：透明背景、灰色文字
- ✓ 懸停：淺灰背景
- ✓ 選中：對應顏色背景、白色文字
- ✓ 字體：Mono、粗體、大寫

---

### TC-UI-002：響應式佈局
**測試步驟**：
1. 在桌面瀏覽器（≥ 640px）測試
2. 調整視窗到平板大小
3. 調整視窗到手機大小（< 640px）

**預期結果**：
- ✓ 桌面：篩選面板水平排列
- ✓ 手機：篩選面板垂直堆疊
- ✓ 按鈕尺寸保持一致
- ✓ 文字清晰可讀

---

### TC-UI-003：提示列樣式
**測試步驟**：
1. 啟用任一篩選
2. 檢查提示列外觀
3. 測試清除按鈕

**預期結果**：
- ✓ 背景：#FA4028（紅色）
- ✓ 文字：白色、Mono 字體、大寫
- ✓ 清除按鈕：白色邊框、懸停反轉顏色
- ✓ 顯示正確的篩選資訊和數量

---

### TC-UI-004：無障礙功能
**測試步驟**：
1. 使用 Tab 鍵導航所有按鈕
2. 使用 Enter/Space 鍵啟用按鈕
3. 使用螢幕閱讀器測試
4. 檢查顏色對比度

**預期結果**：
- ✓ 所有按鈕可用 Tab 鍵聚焦
- ✓ 鍵盤可完全操作
- ✓ 螢幕閱讀器正確讀取標籤和狀態
- ✓ 對比度 ≥ 4.5:1

---

## ⚡ 效能測試案例

### TC-PERF-001：大量資料篩選
**前置條件**：
- 資料庫有 1000+ 筆標案

**測試步驟**：
1. 載入標案列表
2. 快速切換不同篩選選項
3. 測量響應時間

**預期結果**：
- ✓ 篩選響應時間 < 500ms
- ✓ 無明顯延遲或卡頓
- ✓ 分頁處理正確

---

### TC-PERF-002：快速切換篩選
**測試步驟**：
1. 連續快速點擊不同篩選選項
2. 觀察系統反應

**預期結果**：
- ✓ 沒有競態條件（race condition）
- ✓ 最終顯示最後選擇的篩選結果
- ✓ 不會崩潰或出錯

---

## 🐛 邊界測試案例

### TC-EDGE-001：時區邊界
**測試步驟**：
1. 測試截止日期在當天午夜的標案
2. 測試跨時區情況

**預期結果**：
- ✓ 正確處理時區差異
- ✓ 日期計算準確

---

### TC-EDGE-002：日期格式變異
**測試資料**：
```
deadline_date = "2026-01-30"           (日期格式)
deadline_date = "2026-01-30T14:30:00" (日期時間格式)
deadline_date = null                   (空值)
```

**預期結果**：
- ✓ 正確解析所有格式
- ✓ 不會因格式差異出錯

---

### TC-EDGE-003：特殊狀態文字
**測試資料**：
```
status = "已決標"        → 應被「已決標」篩選找到
status = "已決標(複審)"  → 應被「已決標」篩選找到（includes）
status = "決標"          → 不應被找到（不完全匹配）
status = null            → 不應被「已決標」篩選找到
```

**預期結果**：
- ✓ 正確處理 `includes` 邏輯
- ✓ null 值不會導致錯誤

---

## 📊 測試報告模板

### 測試執行記錄
```
測試日期：2026-01-28
測試人員：[姓名]
測試環境：
  - 瀏覽器：Chrome 130.0
  - 作業系統：macOS 14.5
  - 螢幕解析度：1920x1080

測試結果總覽：
  - 總案例數：30
  - 通過：28 ✓
  - 失敗：2 ✗
  - 待修復：2

失敗案例：
  - TC-008：篩選組合邏輯錯誤（已修復）
  - TC-EDGE-002：日期格式解析問題（待修復）

建議：
  1. 增強日期格式解析的健壯性
  2. 新增單元測試覆蓋邊界情況
```

---

**測試版本**：v1.0.0
**最後更新**：2026-01-28
**維護者**：前端工程師 Ava
